<template>
    <v-card class="pa-4" width="600">
      <v-form @submit.prevent="submitNote">
        <v-text-field
          v-model="noteText"
          label="‚úèÔ∏è –ù–∞–ø–∏—à–∏—Ç–µ –∑–∞–º–µ—Ç–∫—É..."
          variant="outlined"
          required
        ></v-text-field>
  
        <!-- –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <v-select
          v-model="selectedCategory"
          :items="categories"
          label="üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è"
          variant="outlined"
          required
        ></v-select>
  
        <v-btn type="submit" color="primary" block>–î–æ–±–∞–≤–∏—Ç—å</v-btn>
      </v-form>
    </v-card>
  </template>
  
  <script lang="ts">
  import { defineComponent, ref } from 'vue';
  
  export default defineComponent({
    emits: ['add-note'],
    setup(_, { emit }) {
      const noteText = ref('');
      const selectedCategory = ref('–õ–∏—á–Ω–æ–µ'); // –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
      const categories = ['–†–∞–±–æ—Ç–∞', '–£—á–µ–±–∞', '–õ–∏—á–Ω–æ–µ']; // –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  
      const submitNote = () => {
        if (!noteText.value.trim()) return;
  
        emit('add-note', {
          text: noteText.value,
          category: selectedCategory.value,
          date: new Date().toISOString() // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞—Ç—É —Å–æ–∑–¥–∞–Ω–∏—è
        });
  
        noteText.value = '';
        selectedCategory.value = '–õ–∏—á–Ω–æ–µ'; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
      };
  
      return { noteText, selectedCategory, categories, submitNote };
    }
  });
  </script>
  